# Smart CLI Sentiment & Emotion Analyzer â€“ Python CLI Application


## Project Objective
A lightweight command-line interface tool that classifies sentences by sentiment (positive, neutral, negative) and detects fine-grained emotions (joy, sadness, anger, fear, disgust, surprise). The system blends multilingual transformer embeddings with an optional Groq fallback for borderline cases, supports per-file scoring and adjustable thresholds, and culminates in a user-friendly Streamlit interface.


It supports multiple platforms and includes:
- Multilingual transformer embeddings for accurate sentiment and emotion detection
- Configurable confidence thresholds for fine-tuned classification
- Groq API fallback for ambiguous cases with deterministic tie-breaking
- Batch processing with detailed per-file scoring and reporting
- Threshold tuning and evaluation suite with performance metrics
- Interactive Streamlit interface with real-time threshold adjustment
- Comprehensive documentation and sample datasets


---
## Code Execution Screenshots
### Conversation 1: CLI Foundation and Configuration
Conversation 1 Execution -> https://drive.google.com/file/d/12jIFo1U8CATGGJQ5BNExPn8f6Ce6Zrch/view?usp=drive_link


Conversation 1 Execution -> https://drive.google.com/file/d/1cnxgdubukjx2msceMlgQnszx-yhgTT3c/view?usp=drive_link


Conversation 1 Execution -> https://drive.google.com/file/d/1ExsaQyfEhEjA-8ix-qQ10sBNlLcrA7zC/view?usp=drive_link


### Conversation 2: Core Inference Engine
Conversation 2 Execution -> https://drive.google.com/file/d/1TRfKhMPLPWfv0nE760VvRn-hSM4W8WMf/view?usp=drive_link


Conversation 2 Execution -> https://drive.google.com/file/d/1YjFyIocYYXiOKnXXjGXQUyZZ4TqCvolJ/view?usp=drive_link


Conversation 2 Execution -> https://drive.google.com/file/d/1GgVDv2kcVll3xQg5HEahsWZ5xxBUFSe8/view?usp=drive_link


### Conversation 3: Label Mapping and Threshold Control
Conversation 3 Execution -> https://drive.google.com/file/d/1NLgntPtAucMjWSPNgLKW1Ak2QdZqpnOK/view?usp=drive_link


Conversation 3 Execution -> https://drive.google.com/file/d/12WAWLuuiJdoXcLhprsp1zhleU8c-iF3j/view?usp=drive_link


Conversation 3 Execution -> https://drive.google.com/file/d/1Dl5dKszvD7H6NZh3fYF0BhUdfcVXzdtV/view?usp=drive_link


### Conversation 4: API Fallback for Ambiguous Cases
Conversation 4 Execution -> https://drive.google.com/file/d/1OUZsX_-g-6U5reCtweZt8qv7TMEajOXL/view?usp=drive_link


Conversation 4 Execution -> https://drive.google.com/file/d/1N1oSOS8anyBiD5zr2HylFL9HDPDM_RkY/view?usp=drive_link


Conversation 4 Execution -> https://drive.google.com/file/d/11kZRDRLiS68cACTYsmdIrpYoZrE4AwFC/view?usp=drive_link


Conversation 4 Execution -> https://drive.google.com/file/d/1579yOQVE0GnW0gZJWjCFqovpqhaPtB9p/view?usp=drive_link


Conversation 4 Execution -> https://drive.google.com/file/d/13bQdIlJGY1xVDgEy97iuzb-8bcwMKsF-/view?usp=drive_link


### Conversation 5: Batch Processing and Reporting
Conversation 5 Execution -> https://drive.google.com/file/d/12izeHkzCSgvC9xGPla4RzO1FUTStlUNs/view?usp=drive_link


Conversation 5 Execution -> https://drive.google.com/file/d/1GeNt9t1EnYWpzht7A_7gSYaah_pXe8ZN/view?usp=drive_link


Conversation 5 Execution -> https://drive.google.com/file/d/1RsKOJoW_aeixEeILiI38vkvLc8LyiXg2/view?usp=drive_link


Conversation 5 Execution -> https://drive.google.com/file/d/1Ine50DtEmgD9uhy4IYZi-P6h2dvrcOWP/view?usp=drive_link


Conversation 5 Execution -> https://drive.google.com/file/d/1KHgBpbeItt-ykokAaEA5szVAwaTTCRAl/view?usp=drive_link




### Conversation 6: Evaluation and Tuning Suite
Conversation 6 Execution -> https://drive.google.com/file/d/1LtA3suypjy6MgTWypQ6FUvpogk0hawvp/view?usp=drive_link


Conversation 6 Execution -> https://drive.google.com/file/d/17P_ntcgxZLPNhWwAV-lTQmLnktUXw_Ln/view?usp=drive_link


Conversation 6 Execution -> https://drive.google.com/file/d/1swST_r6y4Bn74edPKOY4nVGlsNGm63ME/view?usp=drive_link


Conversation 6 Execution -> https://drive.google.com/file/d/1dO-l1wZ5mKR9oGLuv4qB70R-O70s7CZ9/view?usp=drive_link


Conversation 6 Execution -> https://drive.google.com/file/d/14FFbG1HxVS83CMLfgj86TiGJz5Tqp2Nl/view?usp=drive_link


### Conversation 7: Streamlit Interactive Dashboard
Conversation 7 Execution -> https://drive.google.com/file/d/1ci65MomEWJmFkJPOLczNJjjdkEhEGxrH/view?usp=drive_link


Conversation 7 Execution -> https://drive.google.com/file/d/1-YNFpi-iwk5UPPZzQe4ticRCPfNpR8Cw/view?usp=drive_link


### Conversation 8: Advanced Features and System Integration
Conversation 8 Execution -> https://drive.google.com/file/d/17iveaElOyyjy9THCymOA5cwc5gur_eis/view?usp=drive_link


Conversation 8 Execution -> https://drive.google.com/file/d/1R5KL8yYzX4I0K0_b04JyXTQ9LJpc8I8N/view?usp=drive_link


Conversation 8 Execution -> https://drive.google.com/file/d/18H-g9fHkVcjscrZIhvfglgvtkraQGbDz/view?usp=drive_link


Conversation 8 Execution -> https://drive.google.com/file/d/1HmA5yfn1hN2T55GDhKU06AaU1H5gmK_G/view?usp=drive_link


---
## Project Features Mapped to Components
- **CLI Interface**: Command-line argument parsing, single sentence and file processing
- **Inference Engine**: Multilingual transformer model with probability scoring
- **Label System**: Sentiment categories (positive, neutral, negative) and emotion mapping (joy, sadness, anger, fear, disgust, surprise)
- **Threshold Control**: Configurable confidence thresholds with CLI overrides
- **Groq Integration**: API fallback for ambiguous cases with deterministic tie-breaking
- **Batch Processing**: Large file handling with progress tracking and detailed reporting
- **Evaluation Suite**: Threshold tuning with precision, recall, and F1 metrics
- **Streamlit Interface**: Interactive web interface with real-time threshold adjustment


---
## Project Features Mapped to Conversations
- **Conversation 1**: CLI Foundation and Configuration - Create the initial command-line interface with argument parsing and basic settings system. Implement an analyze command that accepts either a single sentence or a .txt file, treats each line as a sentence, and returns placeholder sentiment/emotion classifications with colored terminal feedback, confirming that the overall interface, help text, and configuration workflow operate correctly. Implement a basic Sentence Transformers based model handler and config manager as well.
- **Conversation 2**: Core Inference Engine - Load a compact sentiment/emotion model, add text-preprocessing steps for consistent inputs, and build an inference pipeline that produces raw probability scores for every native label. Connect this engine to the CLI so users can request verbose output displaying full probability maps, establishing the computational backbone for later stages.
- **Conversation 3**: Label Mapping and Threshold Control - Define the public taxonomy of sentiment (positive, neutral, negative) and emotions (joy, sadness, anger, fear, disgust, surprise), map model outputs to these categories, and introduce configurable confidence thresholds stored in the settings file and overridable on the command line. Compute the top label and overall sentiment flag, update CLI coloring, and allow users to fine-tune thresholds to match their tolerance levels.
- **Conversation 4**: API Fallback for Ambiguous Cases - Identify gray-zone sentences whose highest model probability sits within a user-defined confidence band, forward these sentences to Groq for a second opinion in the same taxonomy, and merge local and Groq results with a deterministic tie-breaking policy while logging any disagreements. Add a CLI switch to enable or disable this fallback, giving users full control over external calls.
- **Conversation 5**: Batch Processing and File-Level Scoring - Introduce a batch command that ingests large .txt or delimited files, processes sentences in manageable chunks, outputs a detailed report listing per-sentence classifications and probabilities, records Groq overrides where used, and computes an overall sentiment score for the entire file while displaying progress bars and summary statistics in the terminal.
- **Conversation 6**: Evaluation and Tuning Suite - Add an evaluation workflow that accepts a labeled validation set, sweeps threshold values across reasonable ranges, and reports precision, recall, and F1 for each category. Suggest new threshold settings that maximize macro-F1, allow users to save these settings back to the configuration file, and generate performance curves to visualize the impact of different threshold choices.
- **Conversation 7**: Streamlit Interactive Dashboard - Develop a Streamlit application featuring a single-sentence text box that displays an immediate sentiment verdict with colored badges, a sidebar housing sliders for real-time threshold adjustment and a toggle for Groq fallback, and a file-upload section that reuses the batch engine to score .txt or CSV inputs, visualize category distributions, and provide a downloadable report while preserving user threshold preferences across sessions.
- **Conversation 8**: Advanced Features and System Integration - Implement comprehensive system enhancements including real-time metrics dashboard with live throughput and memory usage monitoring, system health tracking with CPU and disk I/O metrics, Groq API key management with secure input and test connection functionality, performance tracking with accuracy metrics and confidence calibration, collapsible sidebar sections for improved navigation, comprehensive export functionality with multi-format reports, color-coded sentiment levels throughout the app, and robust data serialization handling for JSON export compatibility.


---


### Usage:
Run the main application:
```bash
# Web interface
streamlit run run_streamlit.py --server.port 8501
```


### Command Line Features
- `--text` - Analyze single text input
- `--file` - Process text file line-by-line
- `--batch` - Batch process files or directories
- `--stream` - Real-time streaming analysis from stdin
- `--evaluate` - Model evaluation on validation datasets
- `--confidence-filter` - Filter results by confidence threshold
- `--allow-groq-fallback` - Enable Groq API fallback for uncertain predictions
- `--json` - Output results in JSON format
- `--verbose` - Show detailed analysis information


# Project Setup


A lightweight command-line interface tool that classifies sentences by sentiment (positive, neutral, negative) and detects fine-grained emotions using multilingual transformer embeddings with optional Groq fallback.


## Getting Started


### Clone the Repository
```bash
# Clone the repository
git clone https://github.com/arsh21-turing/cli_sentiment_analysis.git
```


### Setting Up the Environment


1. Create a Virtual Environment
```bash
# For Python 3 (recommended)
python -m venv venv


# Activate the virtual environment
# On Windows:
venv\Scripts\activate


# On macOS/Linux:
source venv/bin/activate
```


2. Install Requirements
```bash
# Install all dependencies
pip install -r requirements.txt
```


3. Set up API Keys (Optional)
Create a `.env` file in the project root or set environment variables:


```bash
# Add your Groq API key to .env file (optional)
echo "GROQ_API_KEY=your_groq_api_key" > .env
```


## Running the Application


### Web Interface (Streamlit)


#### Launch the Web App
```bash
# Run the Streamlit web interface
streamlit run run_streamlit.py --server.port 8501


# Access the web interface at http://localhost:8501
```


#### Web App Features
- **Single Text Analysis**: Real-time sentiment and emotion analysis with interactive visualizations
- **Batch File Upload**: Upload TXT or CSV files for comprehensive analysis
- **Interactive Dashboard**: Real-time metrics, performance tracking, and system health monitoring
- **Export Functionality**: Download results in JSON, CSV, PDF, or HTML formats
- **Configuration Management**: Adjustable thresholds and profile management
- **Groq API Integration**: Enhanced accuracy with API fallback options


## Key Features


### CLI Features
- **Real-time Analysis**: Instant sentiment and emotion detection with confidence scoring
- **Batch Processing**: Efficient processing of large files with progress tracking
- **Stream Mode**: Continuous analysis of text input streams
- **Confidence Filtering**: Filter results based on confidence thresholds
- **Multiple Output Formats**: JSON, colored text, and detailed probability outputs
- **Model Evaluation**: Comprehensive evaluation with threshold optimization
- **Groq Integration**: API fallback for enhanced accuracy on uncertain predictions


### Web Interface Features
- **Interactive Analysis**: Real-time text analysis with immediate feedback
- **File Upload**: Support for TXT and CSV files with automatic processing
- **Visual Analytics**: Interactive charts and graphs for result visualization
- **Performance Monitoring**: Real-time metrics dashboard and system health tracking
- **Export System**: Multi-format export with detailed reporting
- **Configuration Wizard**: Easy setup and customization of analysis parameters
- **Profile Management**: Save and load different analysis configurations


### Advanced Features
- **Threshold Optimization**: Automatic optimization of detection thresholds
- **Model Comparison**: Compare multiple models on the same dataset
- **Performance Tracking**: Monitor processing speed and resource usage
- **System Health**: Real-time monitoring of CPU, memory, and disk usage
- **Comprehensive Logging**: Detailed logging with filtering and export options
- **Error Handling**: Robust error handling with graceful degradation
